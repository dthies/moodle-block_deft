define("block_deft/form",["exports","core_form/dynamicform","core/log","core/notification"],(function(_exports,_dynamicform,_log,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_dynamicform=_interopRequireDefault(_dynamicform),_log=_interopRequireDefault(_log),_notification=_interopRequireDefault(_notification);var Constructor,protoProps,staticProps,_default=(Constructor=function _default(contextid,type,task){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,_default);var dynamicForm=new _dynamicform.default(document.querySelector('[data-id="'+task+'"] [data-region="status"]'),"block_deft\\form\\status_"+type);dynamicForm.addEventListener(dynamicForm.events.FORM_SUBMITTED,(function(e){e.preventDefault();var response=e.detail;_log.default.debug(response),dynamicForm.load({contextid:contextid,id:task}).then((function(){var form=document.querySelector('[data-id="'+task+'"] [data-region="status"] form'),data=new FormData(form),params=new URLSearchParams(data);return form.setAttribute("data-value",params.toString()),!0})).fail(_notification.default.exception)})),document.querySelectorAll('[data-id="'+task+'"] [data-region="status"] form').forEach((function(form){var data=new FormData(form),params=new URLSearchParams(data);form.setAttribute("data-value",params.toString())}))},protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor);return _exports.default=_default,_exports.default}));

//# sourceMappingURL=form.min.js.map