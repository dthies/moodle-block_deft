define("block_deft/form",["exports","core_form/dynamicform","core/log","core/notification"],(function(_exports,_dynamicform,_log,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_dynamicform=_interopRequireDefault(_dynamicform),_log=_interopRequireDefault(_log),_notification=_interopRequireDefault(_notification);return _exports.default=class{constructor(contextid,type,task){const dynamicForm=new _dynamicform.default(document.querySelector('[data-id="'+task+'"] [data-region="status"]'),"block_deft\\form\\status_"+type);dynamicForm.addEventListener(dynamicForm.events.FORM_SUBMITTED,(e=>{e.preventDefault();const response=e.detail;_log.default.debug(response),dynamicForm.load({contextid:contextid,id:task}).then((()=>{const form=document.querySelector('[data-id="'+task+'"] [data-region="status"] form'),data=new FormData(form),params=new URLSearchParams(data);return form.setAttribute("data-value",params.toString()),!0})).fail(_notification.default.exception)})),document.querySelectorAll('[data-id="'+task+'"] [data-region="status"] form').forEach((form=>{const data=new FormData(form),params=new URLSearchParams(data);form.setAttribute("data-value",params.toString())}))}},_exports.default}));

//# sourceMappingURL=form.min.js.map