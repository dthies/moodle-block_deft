/*
 * Open and maintain a WebSocket to recieve messages from server.
 *
 * @package    block_deft
 * @module     block_deft/mobile
 * @copyright  2022 Daniel Thies <dethies@gmail.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
if(window.CONTENT_OTHERDATA){var ws=new WebSocket("wss://deftly.us/ws"),token=window.CONTENT_OTHERDATA.token;ws.onopen=function(){ws.send(token)},ws.onclose=()=>{var id=setInterval((()=>{navigator.onLine&&(clearInterval(id),window.refreshContent(!1))}),5e3)},ws.addEventListener("message",(()=>{setTimeout(function(){navigator.onLine&&this.refreshContent(!1)}.bind(window))}))}

//# sourceMappingURL=mobile.min.js.map